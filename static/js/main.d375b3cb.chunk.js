(this.webpackJsonpregistro=this.webpackJsonpregistro||[]).push([[0],{150:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(31),c=a.n(o),s=(a(69),a(62)),i=a(2),l=a(19),m=(a(73),a(15)),u=a(57),d=a(152),p=a(16),E={isFetching:!1,registryResponse:void 0,errors:void 0};var b=Object(m.c)({form:d.a,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTRY_REQUEST":return Object.assign({},e,{isFetching:!0,registryResponse:""});case"USER_REGISTRY_SUCCESS":return Object.assign({},e,{isFetching:!1,registryResponse:t.response});case"USER_REGISTRY_FAILURE":return Object.assign({},e,{isFetching:!1,errors:t.errors});case"USER_LOGIN_REQUEST":return Object.assign({},e,{isFetching:!0,loginResponse:""});case"USER_LOGIN_SUCCESS":return Object.assign({},e,{isFetching:!1,loginResponse:t.response});case"USER_LOGIN_FAILURE":return Object.assign({},e,{isFetching:!1,errors:t.errors});default:return e}}}),f=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,g=Object(m.e)(b,f(Object(m.a)(u.a))),h=a(8),y=a(36),v=function(e){var t=e.label,a=e.type,n=e.field;return r.a.createElement("label",{className:"form-label"},t,"textarea"===a?r.a.createElement("textarea",Object.assign({className:"form-input"},n)):r.a.createElement("input",Object.assign({className:"form-input",type:a},n)))},R=function(e){var t=e.label,a=e.form,n=e.field,o=e.regularExp;return r.a.createElement("label",{className:"form-label"},t,r.a.createElement("input",Object.assign({className:"form-input",type:"text"},n,{onChange:function(e){var t=e.target,n=t.name,r=t.value;new RegExp(o).test(r)&&a.setFieldValue(n,r)}})))},S=a(63),O=function(e){var t=e.label,a=e.type,n=e.field,o=r.a.useState("Seleccionar archivo"),c=Object(S.a)(o,2),s=c[0],i=c[1];return r.a.createElement("div",{className:"form-label"},t,r.a.createElement("div",{className:"file-upload"},r.a.createElement("label",null,r.a.createElement("div",{className:"form-input"},r.a.createElement("span",{id:"info"},s)),r.a.createElement("input",Object.assign({id:"input-file",type:a},n,{onChange:function(e){var t=e.target.files;t.length&&i(t[0].name)}})),r.a.createElement("div",{className:"btn background-green"},"Cargar"))))},_=function(e){var t=e.type,a=(e.options,Object(y.a)(e,["type","options"]));switch(t){case"number":return r.a.createElement(R,a);case"file":return r.a.createElement(O,Object.assign({type:t},a));default:return r.a.createElement(v,Object.assign({type:t},a))}},N=function(e){e.sizes,e.styles;var t=Object(y.a)(e,["sizes","styles"]);return r.a.createElement("div",{style:{marginBottom:"30px"}},r.a.createElement(_,t),r.a.createElement(h.a,{name:t.field.name},(function(e){return r.a.createElement("span",{className:"message"},e)})))},U=[{label:"Nombre de la tienda o persona",type:"text",name:"nombre"},{label:"Descripci\xf3n de la tienda o persona",type:"textarea",name:"descripcion"},{label:"Nombre de contacto",type:"text",name:"nombree"},{label:"DNI",type:"number",name:"dni",regularExp:"^[0-9]{0,8}$"},{label:"Correo",type:"email",name:"correo"},{label:"Celular de contacto",type:"number",name:"celular",regularExp:"^[0-9]{0,9}$"},{label:"URL Facebook",type:"text",name:"url"}],j=[{label:"Usuario",type:"text",name:"username"},{label:"Contrase\xf1a",type:"password",name:"clave"},{label:"Confirmar contrase\xf1a",type:"password",name:"confirmPassword"},{label:"Agregar archivos",type:"file",name:"addFiles"}],I=[{label:"Usuario",type:"text",name:"username"},{label:"Contrase\xf1a",type:"password",name:"clave"}],w=function(e){var t={};return e.nombre||(t.nombre="Requerido"),e.descripcion||(t.descripcion="Requerido"),e.correo?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.correo)||(t.correo="Correo inv\xe1lido"):t.correo="Requerido",e.celular||(t.celular="Requerido"),e.username||(t.username="Requerido"),e.clave||(t.clave="Requerido"),e.confirmPassword||(t.confirmPassword="Requerido"),e.clave!==e.confirmPassword&&(t.confirmPassword="Las contrase\xf1as no coinciden"),t},C=function(e){var t={};return e.username||(t.username="Requerido"),e.clave||(t.clave="Requerido"),t},F={idusuario:"",dni:"",nombre:"",descripcion:"",nombree:"",celular:"",correo:"",url:"",username:"",clave:"",confirmPassword:"",mov_usu:"N",wichButton:""},L={username:"",clave:""},x={fetchUserRegistry:function(e){return function(t){return t({type:"USER_REGISTRY_REQUEST"}),fetch("https://moliemprendedor.munimolina.gob.pe/adm_emprendedor1.php",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){return t(function(e){return{type:"USER_REGISTRY_SUCCESS",response:Object(p.a)({},e)}}(e))})).catch((function(e){t(function(e){return{type:"USER_REGISTRY_FAILURE",errors:Object(p.a)({},e)}}(e.message))}))}},fetchFileUpload:function(e){return function(t){return t({type:"FILE_UPLOAD_REQUEST"}),fetch("https://moliemprendedor.munimolina.gob.pe/Controlador/subirarchivos1.php",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){return t(function(e){return Object(p.a)({type:"FILE_UPLOAD_SUCCESS"},e)}(e))})).catch((function(e){t(function(e){return Object(p.a)({type:"FILE_UPLOAD_FAILURE"},e)}(e.message))}))}}},A=Object(l.b)((function(e){return e}),x)((function(e){var t=e.fetchUserRegistry,a=e.fetchFileUpload,n=e.history;return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("h2",{className:"title"},"Registro"),r.a.createElement("h3",{className:"subtitle"},"Ingresa los datos solicitados para formar parte de nuestros distribuidores.")),r.a.createElement(h.d,{initialValues:F,onSubmit:function(){var e=document.getElementById("formElement"),r=new FormData(e),o=new FormData,c=document.querySelector("input[type='file']");o.append("file",c.files[0]),a(o),r.append("idusuario",""),r.append("mov_usu","N"),r.delete("confirmPassword"),r.delete("addFiles"),t(r).then((function(){n.push("/login")}))},validate:w},(function(e){var t=e.resetForm,a=e.isValid,n=e.dirty;return r.a.createElement(h.c,{className:"form",id:"formElement"},r.a.createElement("h3",{className:"section-text"},"Datos del Emprendedor"),U.map((function(e,t){return r.a.createElement(h.b,Object.assign({key:t,type:e.type,name:e.name,label:e.label},e,{component:N}))})),r.a.createElement("h3",{className:"section-text"},"Datos de acceso"),j.map((function(e,t){return r.a.createElement(h.b,{key:t,type:e.type,name:e.name,label:e.label,component:N})})),r.a.createElement("span",{className:"form-label"},r.a.createElement(h.b,{type:"checkbox",name:"termns"}),"Autorizo y Acepto que la Municipalidad de La Molina me notifique los actos administrativos que pudiera emitir a consecuencia de la presente solicitud y/0 procedimiento administrativo al correo electr\xf3nico."),r.a.createElement("div",{className:"button-group"},r.a.createElement("button",{className:"btn background-red",type:"button",onClick:function(){return t(F)}},"Cancelar"),r.a.createElement("button",{className:"btn background-green",disabled:!n||!a,type:"submit"},"Enviar")))})))})),T={fetchUserLogin:function(e){return function(t){return t({type:"USER_LOGIN_REQUEST"}),fetch("https://moliemprendedor.munimolina.gob.pe/adm_login_usuario1.php",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){return t(function(e){return{type:"USER_LOGIN_SUCCESS",response:Object(p.a)({},e)}}(e))})).catch((function(e){t(function(e){return Object(p.a)({type:"USER_LOGIN_FAILURE"},e)}(e.message))}))}}},D=Object(l.b)((function(e){return e}),T)((function(e){var t=e.fetchUserLogin;return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("h2",{className:"title"},"Mi cuenta"),r.a.createElement("h3",{className:"subtitle"},"Ingresa con tu cuenta para hacer uso de la Plataforma Digital MoliEmprendedor.")),r.a.createElement(h.d,{initialValues:L,onSubmit:function(e,a){!function(e,a){var n=document.getElementById("formLogin"),r=new FormData(n);t(r).then((function(e){e.response&&e.response[0]&&e.response[0].COD_MENSAJE&&a.setErrors({general:e.response[0].COD_MENSAJE})}))}(0,a)},validate:C},(function(e){var t=e.errors,a=e.isValid,n=e.isSubmitting,o=e.dirty;return r.a.createElement(h.c,{className:"form",id:"formLogin"},I.map((function(e,t){return r.a.createElement(h.b,{key:t,type:e.type,name:e.name,label:e.label,component:N})})),t.general&&r.a.createElement("p",{className:"message"},t.general),r.a.createElement("div",{className:"button-group"},r.a.createElement("button",{className:"btn background-green",disabled:!o||!a||n,type:"submit"},"Ingresar")))})))}));var P=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(l.a,{store:g},r.a.createElement(s.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:A}),r.a.createElement(i.a,{path:"/login",component:D})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},64:function(e,t,a){e.exports=a(150)},69:function(e,t,a){},73:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.d375b3cb.chunk.js.map